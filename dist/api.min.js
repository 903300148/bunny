var ApiConfig={prefix:"/ajax",headers:{"X-Requested-With":"XMLHttpRequest"}},Api={Config:ApiConfig,prefix:"",request:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"json",s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],u=this.createRequest(t,e,n,r,i,s);return fetch(u).then(function(t){return 200===t.status?t[i]():o.onStatusFail(t.status)}).then(function(t){return o.onResponse(t)}).catch(function(n){return o.onError(n,o.createUrl(t),e)})},createRequest:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:"json",!(arguments.length>5&&void 0!==arguments[5])||arguments[5]),i=this.createHeaders(r,o);return new Request(this.createUrl(t),{method:e,headers:i,body:n})},createHeaders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={};return n=e?Object.assign({},this.Config.headers,t):t,new Headers(n)},createUrl:function(t){return this.Config.prefix+this.prefix+t},get:function(t){return this.request(t,"GET")},createFormData:function(t){if(t instanceof FormData)return t;var e=new FormData;for(var n in t)e.append(n,t[n]);return e},post:function(t,e){return this.request(t,"POST",this.createFormData(e))},onResponse:function(t){return t.message?[]:t},onError:function(t,e,n){return Promise.reject(t)},onStatusNotFound:function(){this.showStatusError("404: API Route not found!")},onStatusAccessDenied:function(){this.showStatusError("403: Access denied!")},onStatusUnauthorized:function(){this.showStatusError("401: You are not logged in!")},onStatusFail:function(t){return 404===t?this.onStatusNotFound():403===t?this.onStatusAccessDenied():401===t&&this.onStatusUnauthorized(),Promise.reject(t)},showStatusError:function(t){Notify.danger(t)}};